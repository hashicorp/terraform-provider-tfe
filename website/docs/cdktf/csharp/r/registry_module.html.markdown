---
layout: "tfe"
page_title: "Terraform Enterprise: tfe_registry_module"
description: |-
  Manages registry modules
---


<!-- Please do not edit this file, it is generated. -->
# tfe_registry_module

HCP Terraform's private module registry helps you share Terraform modules across your organization.

## Example Usage

Basic usage with VCS:

```csharp
using Constructs;
using HashiCorp.Cdktf;
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
using Gen.Providers.Tfe;
class MyConvertedCode : TerraformStack
{
    public MyConvertedCode(Construct scope, string name) : base(scope, name)
    {
        var tfeOrganizationTestOrganization = new Organization.Organization(this, "test-organization", new OrganizationConfig {
            Email = "admin@company.com",
            Name = "my-org-name"
        });
        var tfeOauthClientTestOauthClient = new OauthClient.OauthClient(this, "test-oauth-client", new OauthClientConfig {
            ApiUrl = "https://api.github.com",
            HttpUrl = "https://github.com",
            OauthToken = "my-vcs-provider-token",
            Organization = Token.AsString(tfeOrganizationTestOrganization.Name),
            ServiceProvider = "github"
        });
        new RegistryModule.RegistryModule(this, "test-registry-module", new RegistryModuleConfig {
            VcsRepo = new RegistryModuleVcsRepo {
                DisplayIdentifier = "my-org-name/terraform-provider-name",
                Identifier = "my-org-name/terraform-provider-name",
                OauthTokenId = Token.AsString(tfeOauthClientTestOauthClient.OauthTokenId)
            }
        });
    }
}
```

Create private registry module with tests enabled:

```csharp
using Constructs;
using HashiCorp.Cdktf;
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
using Gen.Providers.Tfe;
class MyConvertedCode : TerraformStack
{
    public MyConvertedCode(Construct scope, string name) : base(scope, name)
    {
        var tfeOrganizationTestOrganization = new Organization.Organization(this, "test-organization", new OrganizationConfig {
            Email = "admin@company.com",
            Name = "my-org-name"
        });
        var tfeOauthClientTestOauthClient = new OauthClient.OauthClient(this, "test-oauth-client", new OauthClientConfig {
            ApiUrl = "https://api.github.com",
            HttpUrl = "https://github.com",
            OauthToken = "my-vcs-provider-token",
            Organization = Token.AsString(tfeOrganizationTestOrganization.Name),
            ServiceProvider = "github"
        });
        new RegistryModule.RegistryModule(this, "test-registry-module", new RegistryModuleConfig {
            TestConfig = new [] { new RegistryModuleTestConfig {
                TestsEnabled = true
            } },
            VcsRepo = new RegistryModuleVcsRepo {
                Branch = "main",
                DisplayIdentifier = "my-org-name/terraform-provider-name",
                Identifier = "my-org-name/terraform-provider-name",
                OauthTokenId = Token.AsString(tfeOauthClientTestOauthClient.OauthTokenId)
            }
        });
    }
}
```

Create private registry module with GitHub App:

```csharp
using Constructs;
using HashiCorp.Cdktf;
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
using Gen.Providers.Tfe;
class MyConvertedCode : TerraformStack
{
    public MyConvertedCode(Construct scope, string name) : base(scope, name)
    {
        var tfeOrganizationTestOrganization = new Organization.Organization(this, "test-organization", new OrganizationConfig {
            Email = "admin@company.com",
            Name = "my-org-name"
        });
        var dataTfeGithubAppInstallationGhaInstallation =
        new DataTfeGithubAppInstallation.DataTfeGithubAppInstallation(this, "gha_installation", new DataTfeGithubAppInstallationConfig {
            Name = "YOUR_GH_NAME"
        });
        new RegistryModule.RegistryModule(this, "petstore", new RegistryModuleConfig {
            Organization = Token.AsString(tfeOrganizationTestOrganization.Name),
            VcsRepo = new RegistryModuleVcsRepo {
                DisplayIdentifier = "GH_NAME/REPO_NAME",
                GithubAppInstallationId = Token.AsString(dataTfeGithubAppInstallationGhaInstallation.Id),
                Identifier = "GH_NAME/REPO_NAME"
            }
        });
    }
}
```

Create private registry module without VCS:

```csharp
using Constructs;
using HashiCorp.Cdktf;
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
using Gen.Providers.Tfe;
class MyConvertedCode : TerraformStack
{
    public MyConvertedCode(Construct scope, string name) : base(scope, name)
    {
        var tfeOrganizationTestOrganization = new Organization.Organization(this, "test-organization", new OrganizationConfig {
            Email = "admin@company.com",
            Name = "my-org-name"
        });
        new RegistryModule.RegistryModule(this, "test-private-registry-module", new RegistryModuleConfig {
            ModuleProvider = "my_provider",
            Name = "another_test_module",
            Organization = Token.AsString(tfeOrganizationTestOrganization.Name),
            RegistryName = "private"
        });
    }
}
```

Create public registry module:

```csharp
using Constructs;
using HashiCorp.Cdktf;
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
using Gen.Providers.Tfe;
class MyConvertedCode : TerraformStack
{
    public MyConvertedCode(Construct scope, string name) : base(scope, name)
    {
        var tfeOrganizationTestOrganization = new Organization.Organization(this, "test-organization", new OrganizationConfig {
            Email = "admin@company.com",
            Name = "my-org-name"
        });
        new RegistryModule.RegistryModule(this, "test-public-registry-module", new RegistryModuleConfig {
            ModuleProvider = "aws",
            Name = "vpc",
            Namespace = "terraform-aws-modules",
            Organization = Token.AsString(tfeOrganizationTestOrganization.Name),
            RegistryName = "public"
        });
    }
}
```

Create no-code provisioning registry module:

```csharp
using Constructs;
using HashiCorp.Cdktf;
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
using Gen.Providers.Tfe;
class MyConvertedCode : TerraformStack
{
    public MyConvertedCode(Construct scope, string name) : base(scope, name)
    {
        var tfeOrganizationTestOrganization = new Organization.Organization(this, "test-organization", new OrganizationConfig {
            Email = "admin@company.com",
            Name = "my-org-name"
        });
        var tfeRegistryModuleTestNoCodeProvisioningRegistryModule =
        new RegistryModule.RegistryModule(this, "test-no-code-provisioning-registry-module", new RegistryModuleConfig {
            ModuleProvider = "aws",
            Name = "vpc",
            Namespace = "terraform-aws-modules",
            Organization = Token.AsString(tfeOrganizationTestOrganization.Name),
            RegistryName = "public"
        });
        new NoCodeModule.NoCodeModule(this, "foobar", new NoCodeModuleConfig {
            Organization = Token.AsString(tfeOrganizationTestOrganization.Id),
            RegistryModule = Token.AsString(tfeRegistryModuleTestNoCodeProvisioningRegistryModule.Id)
        });
    }
}
```

## Argument Reference

The following arguments are supported:

* `VcsRepo` - (Optional) Settings for the registry module's VCS repository. Forces a
  new resource if changed. One of `VcsRepo` or `ModuleProvider` is required.
* `ModuleProvider` - (Optional) Specifies the Terraform provider that this module is used for. For example, "aws"
* `Name` - (Optional) The name of registry module. It must be set if `ModuleProvider` is used.
* `Organization` - (Optional) The name of the organization associated with the registry module. It must be set if `ModuleProvider` is used, or if `VcsRepo` is used via a GitHub App.
* `Namespace` - (Optional) The namespace of a public registry module. It can be used if `ModuleProvider` is set and `RegistryName` is public.
* `RegistryName` - (Optional) Whether the registry module is private or public. It can be used if `ModuleProvider` is set.
* `InitialVersion` - (Optional) This specifies the initial version for a branch based module. It can be used if `VcsRepoBranch` is set. If it is omitted, the initial modules version will default to `000`.

The `TestConfig` block supports
* `TestsEnabled` - (Optional) Specifies whether tests run for the registry module. Tests are only supported for branch-based publishing.

The `VcsRepo` block supports:

* `DisplayIdentifier` - (Required) The display identifier for your VCS repository.
  For most VCS providers outside of BitBucket Cloud and Azure DevOps, this will match the `Identifier`
  string.
* `Identifier` - (Required) A reference to your VCS repository in the format
  `<organization>/<repository>` where `<organization>` and `<repository>` refer to the organization (or project key, for Bitbucket Data Center)
  and repository in your VCS provider. The format for Azure DevOps is `<ado organization>/<ado project>/_git/<ado repository>`.
* `OauthTokenId` - (Optional) Token ID of the VCS Connection (OAuth Connection Token) to use. This conflicts with `GithubAppInstallationId` and can only be used if `GithubAppInstallationId` is not used.
* `GithubAppInstallationId` - (Optional) The installation id of the Github App. This conflicts with `OauthTokenId` and can only be used if `OauthTokenId` is not used.
* `Branch` - (Optional) The git branch used for publishing when using branch-based publishing for the registry module. When a `Branch` is set, `Tags` will be returned as `False`.
* `Tags` - (Optional) Specifies whether tag based publishing is enabled for the registry module. When `Tags` is set to `True`, the `Branch` must be set to an empty value.
* `SourceDirectory` - (Optional) The path to the module configuration files within the VCS repository. This feature is currently in beta and is not available to all users.
* `TagPrefix` - (Optional) The prefix to filter repository Git tags when using the tag-based publishing type in a repository that contains code for multiple modules. Without a prefix, HCP Terraform and Terraform Enterprise publish new versions for all modules with valid Git tags that use semantic versioning. This feature is currently in beta and is not available to all users.

## Attributes Reference

* `Id` - The ID of the registry module.
* `ModuleProvider` - The Terraform provider that this module is used for.
* `Name` - The name of registry module.
* `Organization` - The name of the organization associated with the registry module.
* `Namespace` - The namespace of the module. For private modules this is the name of the organization that owns the module.
* `PublishingMechanism` - The publishing mechanism used when releasing new versions of the module.
* `RegistryName` - The registry name of the registry module depicting whether the registry module is private or public.
* `NoCode` - **Deprecated** The property that will enable or disable a module as no-code provisioning ready.
Use the tfe_no_code_module resource instead.

## Import

Registry modules can be imported; use `<ORGANIZATION>/<REGISTRY_NAME>/<NAMESPACE>/<REGISTRY MODULE NAME>/<REGISTRY MODULE PROVIDER>/<REGISTRY MODULE ID>` as the import ID. For example:

```shell
terraform import tfe_registry_module.test my-org-name/public/namespace/name/provider/mod-qV9JnKRkmtMa4zcA
```

**Deprecated** use `<ORGANIZATION NAME>/<REGISTRY MODULE NAME>/<REGISTRY MODULE PROVIDER>/<REGISTRY MODULE ID>` as the import ID. For example:

```shell
terraform import tfe_registry_module.test my-org-name/name/provider/mod-qV9JnKRkmtMa4zcA
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-16565cd2602cf10f4cd2198c303f6fbc3cf35c0a00862e1840b30c0ac17bae5d -->