---
layout: "tfe"
page_title: "Terraform Enterprise: tfe_hyok_configuration"
description: |-
  Manages HYOK configurations.
---


<!-- Please do not edit this file, it is generated. -->
# tfe_hyok_configuration

Defines a HYOK configuration resource.

~> **NOTE:** This resource requires using the provider with HCP Terraform on the HCP Terraform Premium edition. Refer to [HCP Terraform pricing](https://www.hashicorp.com/en/pricing?product_intent=terraform&tab=terraform) for details.

## Example Usage

Basic usage:

```go
import constructs "github.com/aws/constructs-go/constructs"
import "github.com/hashicorp/terraform-cdk-go/cdktf"
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import "github.com/aws-samples/dummy/gen/providers/tfe/gcpOidcConfiguration"
import "github.com/aws-samples/dummy/gen/providers/tfe/hyokConfiguration"
type myConvertedCode struct {
	TerraformStack
}

func newMyConvertedCode(scope Construct, name *string) *myConvertedCode {
	this := &myConvertedCode{}
	cdktf.NewTerraformStack_Override(this, scope, name)
	tfeGcpOidcConfigurationGcp :=
	gcpOidcConfiguration.NewGcpOidcConfiguration(this, jsii.String("gcp"), &GcpOidcConfigurationConfig{
		organization: jsii.String("my-org-name"),
		projectNumber: jsii.String("11111111"),
		serviceAccountEmail: jsii.String("myemail@gmail.com"),
		workloadProviderName: jsii.String("projects/1/locations/global/workloadIdentityPools/1/providers/1"),
	})
	hyokConfiguration.NewHyokConfiguration(this, jsii.String("example"), &HyokConfigurationConfig{
		agentPoolId: jsii.String("apool-MFtsuFxHkC9pCRgB"),
		kekId: jsii.String("key1"),
		kmsOptions: []interface{}{
			map[string]*string{
				"keyLocation": jsii.String("global"),
				"keyRingId": jsii.String("example-key-ring"),
			},
		},
		name: jsii.String("my-key-name"),
		oidcConfigurationId: cdktf.Token_AsString(tfeGcpOidcConfigurationGcp.id),
		oidcConfigurationType: jsii.String("gcp"),
		organization: jsii.String("my-hyok-org"),
	})
	return this
}
```


## Argument Reference

The following arguments are supported:
* `Name` - (Required) Label for the HYOK configuration to be used within HCP Terraform.
* `KekId` - (Required) Refers to the name of your key encryption key stored in your key management service.
* `AgentPoolId` - (Required) The ID of the agent-pool to associate with the HYOK configuration.
* `OidcConfigurationId` - (Required) The ID of the TFE OIDC configuration. This is typically sourced from another OIDC configuration resource corresponding with the target cloud provider, such as `TfeOidcConfigurationGcp`, `TfeOidcConfigurationAws`, or `TfeOidcConfigurationAzure`.
* `OidcConfigurationType` - (Required) The type of OIDC configuration. Valid values are `Vault`, `Aws`, `Gcp`, and `Azure`.
* `Organization` - (Optional) Name of the organization. If omitted, organization must be defined in the provider config.

The `KmsOptions` block is optional, and is used to specify additional fields for some key management services. Supported arguments are:
* `KeyRegion` - (Optional) The AWS region where your key is located.
* `KeyLocation` - (Optional) The location in which the GCP key ring exists.
* `KeyRingId` - (Optional) The root resource for Google Cloud KMS keys and key versions.

## Attributes Reference

In addition to all arguments above, the following attributes are exported:

* `Id` - The HYOK configuration ID.

## Import
HYOK configurations can be imported by ID.

Example:

```shell
terraform import tfe_hyok_configuration.gcp_example hyokc-XqYizSPQmeiG1aHJ
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-23c62ee0493ca2fd5a1e7a033c535895bf3ee5cd4a7db41a8b84247a404ba1f4 -->