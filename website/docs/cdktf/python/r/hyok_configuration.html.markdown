---
layout: "tfe"
page_title: "Terraform Enterprise: tfe_hyok_configuration"
description: |-
  Manages HYOK configurations.
---


<!-- Please do not edit this file, it is generated. -->
# tfe_hyok_configuration

Defines a HYOK configuration resource.

~> **NOTE:** This resource requires using the provider with HCP Terraform on the HCP Terraform Premium edition. Refer to [HCP Terraform pricing](https://www.hashicorp.com/en/pricing?product_intent=terraform&tab=terraform) for details.

## Example Usage

Basic usage:

```python
import constructs as constructs
import cdktf as cdktf
# Provider bindings are generated by running cdktf get.
# See https://cdk.tf/provider-generation for more details.
import ...gen.providers.tfe as tfe
class MyConvertedCode(cdktf.TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        tfe_gcp_oidc_configuration_gcp =
        tfe.gcp_oidc_configuration.GcpOidcConfiguration(self, "gcp",
            organization="my-org-name",
            project_number="11111111",
            service_account_email="myemail@gmail.com",
            workload_provider_name="projects/1/locations/global/workloadIdentityPools/1/providers/1"
        )
        tfe.hyok_configuration.HyokConfiguration(self, "example",
            agent_pool_id="apool-MFtsuFxHkC9pCRgB",
            kek_id="key1",
            kms_options=[{
                "key_location": "global",
                "key_ring_id": "example-key-ring"
            }
            ],
            name="my-key-name",
            oidc_configuration_id=cdktf.Token.as_string(tfe_gcp_oidc_configuration_gcp.id),
            oidc_configuration_type="gcp",
            organization="my-hyok-org"
        )
```


## Argument Reference

The following arguments are supported:
* `name` - (Required) Label for the HYOK configuration to be used within HCP Terraform.
* `kek_id` - (Required) Refers to the name of your key encryption key stored in your key management service.
* `agent_pool_id` - (Required) The ID of the agent-pool to associate with the HYOK configuration.
* `oidc_configuration_id` - (Required) The ID of the TFE OIDC configuration. This is typically sourced from another OIDC configuration resource corresponding with the target cloud provider, such as `tfe_oidc_configuration_gcp`, `tfe_oidc_configuration_aws`, or `tfe_oidc_configuration_azure`.
* `oidc_configuration_type` - (Required) The type of OIDC configuration. Valid values are `vault`, `aws`, `gcp`, and `azure`.
* `organization` - (Optional) Name of the organization. If omitted, organization must be defined in the provider config.

The `kms_options` block is optional, and is used to specify additional fields for some key management services. Supported arguments are:
* `key_region` - (Optional) The AWS region where your key is located.
* `key_location` - (Optional) The location in which the GCP key ring exists.
* `key_ring_id` - (Optional) The root resource for Google Cloud KMS keys and key versions.

## Attributes Reference

In addition to all arguments above, the following attributes are exported:

* `id` - The HYOK configuration ID.

## Import
HYOK configurations can be imported by ID.

Example:

```shell
terraform import tfe_hyok_configuration.gcp_example hyokc-XqYizSPQmeiG1aHJ
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-23c62ee0493ca2fd5a1e7a033c535895bf3ee5cd4a7db41a8b84247a404ba1f4 -->