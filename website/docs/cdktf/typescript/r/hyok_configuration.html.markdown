---
layout: "tfe"
page_title: "Terraform Enterprise: tfe_hyok_configuration"
description: |-
  Manages HYOK configurations.
---


<!-- Please do not edit this file, it is generated. -->
# tfe_hyok_configuration

Defines a HYOK configuration resource.

~> **NOTE:** This resource requires using the provider with HCP Terraform on the HCP Terraform Premium edition. Refer to [HCP Terraform pricing](https://www.hashicorp.com/en/pricing?product_intent=terraform&tab=terraform) for details.

## Example Usage

Basic usage:

```typescript
import * as constructs from "constructs";
import * as cdktf from "cdktf";
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as tfe from "./.gen/providers/tfe";
class MyConvertedCode extends cdktf.TerraformStack {
  constructor(scope: constructs.Construct, name: string) {
    super(scope, name);
    const tfeGcpOidcConfigurationGcp =
      new tfe.gcpOidcConfiguration.GcpOidcConfiguration(this, "gcp", {
        organization: "my-org-name",
        projectNumber: "11111111",
        serviceAccountEmail: "myemail@gmail.com",
        workloadProviderName:
          "projects/1/locations/global/workloadIdentityPools/1/providers/1",
      });
    new tfe.hyokConfiguration.HyokConfiguration(this, "example", {
      agentPoolId: "apool-MFtsuFxHkC9pCRgB",
      kekId: "key1",
      kmsOptions: [
        {
          keyLocation: "global",
          keyRingId: "example-key-ring",
        },
      ],
      name: "my-key-name",
      oidcConfigurationId: cdktf.Token.asString(tfeGcpOidcConfigurationGcp.id),
      oidcConfigurationType: "gcp",
      organization: "my-hyok-org",
    });
  }
}

```


## Argument Reference

The following arguments are supported:
* `name` - (Required) Label for the HYOK configuration to be used within HCP Terraform.
* `kekId` - (Required) Refers to the name of your key encryption key stored in your key management service.
* `agentPoolId` - (Required) The ID of the agent-pool to associate with the HYOK configuration.
* `oidcConfigurationId` - (Required) The ID of the TFE OIDC configuration. This is typically sourced from another OIDC configuration resource corresponding with the target cloud provider, such as `tfeOidcConfigurationGcp`, `tfeOidcConfigurationAws`, or `tfeOidcConfigurationAzure`.
* `oidcConfigurationType` - (Required) The type of OIDC configuration. Valid values are `vault`, `aws`, `gcp`, and `azure`.
* `organization` - (Optional) Name of the organization. If omitted, organization must be defined in the provider config.

The `kmsOptions` block is optional, and is used to specify additional fields for some key management services. Supported arguments are:
* `keyRegion` - (Optional) The AWS region where your key is located.
* `keyLocation` - (Optional) The location in which the GCP key ring exists.
* `keyRingId` - (Optional) The root resource for Google Cloud KMS keys and key versions.

## Attributes Reference

In addition to all arguments above, the following attributes are exported:

* `id` - The HYOK configuration ID.

## Import
HYOK configurations can be imported by ID.

Example:

```shell
terraform import tfe_hyok_configuration.gcp_example hyokc-XqYizSPQmeiG1aHJ
```

<!-- cache-key: cdktf-0.17.0-pre.15 input-23c62ee0493ca2fd5a1e7a033c535895bf3ee5cd4a7db41a8b84247a404ba1f4 -->